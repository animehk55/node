/**
 * @function imageEffect
 */
'use strict'

const randomval = require('randomval')

/** @lends imageEffect */
function imageEffect (name, params) {
  let effect = imageEffect[ name ]
  if (!effect) {
    throw new Error(`Unknown effect: ${name}`)
  }
  return effect(params)
}

Object.assign(imageEffect, {
  fadeAndScale (params) {
    let duration = params.duration || 500
    let x = 50 + randomval.randomInt(-33, 33)
    let y = 50 + randomval.randomInt(-33, 33)
    let scale = 0.8

    return {
      transition: `opacity ${(duration / 5)}ms, transform ${duration}ms`,
      transformOrigin: `${x}% ${y}%`,
      transform: `scale(${scale}, ${scale})`
    }
  }
})

module.exports = imageEffect
