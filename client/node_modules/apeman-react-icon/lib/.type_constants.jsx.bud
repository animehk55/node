/**
 * Bud file for type constants
 */
'use strict'

const fs = require('fs')
const assetDir = `${__dirname}/../asset`
const { EOL } = require('os')

module.exports = {
  force: true,
  mode: '444',
  data: {
    fa: fs.readFileSync(`${assetDir}/css/font-awesome.css`)
      .toString()
      .split(EOL)
      .filter((line) => /^\.fa-.*:before/.test(line))
      .map((line) => line.split(':').shift().replace(/\.fa-/, ''))
      .join(','),
    ion: fs.readFileSync(`${assetDir}/css/ionicons.css`)
      .toString()
      .split(EOL)
      .filter((line) => /^\.ion-.*:before/.test(line))
      .map((line) => line.split(':').shift().replace(/\.ion-/, ''))
      .join(',')
  },
  tmpl: `
const FA_TYPES = '{{{fa}}}' 
const ION_TYPES = '{{{ion}}}'
 
export { 
  FA_TYPES, ION_TYPES 
}
 
export default {
  FA_TYPES, ION_TYPES
}
`
}

if (!module.parent) {
  require('coz').render(__filename)
}